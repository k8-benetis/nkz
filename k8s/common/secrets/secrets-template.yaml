# =============================================================================
# Secrets Template for Risk Module
# =============================================================================
# This file contains the structure of required secrets.
# DO NOT commit actual secrets to git!
# 
# Instructions:
# 1. Copy this file and fill in the actual values
# 2. Create secrets using: kubectl create secret generic <secret-name> --from-literal=<key>=<value> -n nekazari
# 3. Or use: kubectl apply -f <your-filled-secrets-file.yaml>
# =============================================================================

---
# n8n Basic Authentication Secret
# Required for: n8n-deployment.yaml
apiVersion: v1
kind: Secret
metadata:
  name: n8n-secret
  namespace: nekazari
  labels:
    app: n8n
type: Opaque
stringData:
  # Basic auth username for n8n web interface
  # Example: admin
  username: "CHANGE_ME"
  
  # Basic auth password for n8n web interface
  # Use a strong password!
  # Example: MySecurePassword123!
  password: "CHANGE_ME"

---
# PostgreSQL Secret (if not already exists)
# Required for: All risk module components
# NOTE: This secret may already exist from other deployments
# Only create if it doesn't exist
apiVersion: v1
kind: Secret
metadata:
  name: postgresql-secret
  namespace: nekazari
type: Opaque
stringData:
  # PostgreSQL password for 'nekazari' user
  # Example: SecurePostgresPassword123!
  password: "CHANGE_ME"
  
  # Optional: PostgreSQL admin password (if needed)
  # admin-password: "CHANGE_ME"

---
# Redis Secret (if Redis requires authentication)
# Required for: risk-worker, risk-orchestrator
# NOTE: This secret may already exist from other deployments
# Only create if Redis requires authentication
apiVersion: v1
kind: Secret
metadata:
  name: redis-secret
  namespace: nekazari
type: Opaque
stringData:
  # Redis password (leave empty if Redis doesn't require auth)
  # Example: SecureRedisPassword123!
  password: ""

---
# SMTP Secret (for email notifications via n8n)
# Optional: Only needed if n8n workflows send emails
apiVersion: v1
kind: Secret
metadata:
  name: smtp-secret
  namespace: nekazari
type: Opaque
stringData:
  # SMTP server hostname
  # Example: smtp.gmail.com
  host: "CHANGE_ME"
  
  # SMTP server port
  # Example: 587
  port: "587"
  
  # SMTP username (usually email address)
  # Example: notifications@nekazari.com
  username: "CHANGE_ME"
  
  # SMTP password
  # Example: AppPassword123!
  password: "CHANGE_ME"
  
  # Use TLS
  # Example: true
  use_tls: "true"
  
  # From email address
  # Example: notifications@nekazari.com
  from_email: "CHANGE_ME"

---
# Firebase Secret (for push notifications via n8n)
# Optional: Only needed if n8n workflows send push notifications
apiVersion: v1
kind: Secret
metadata:
  name: firebase-secret
  namespace: nekazari
type: Opaque
stringData:
  # Firebase Server Key (from Firebase Console)
  # Example: AAAA... (long base64 string)
  server_key: "CHANGE_ME"
  
  # Firebase Project ID
  # Example: nekazari-production
  project_id: "CHANGE_ME"

---
# =============================================================================
# Instructions for Creating Secrets
# =============================================================================
#
# Method 1: Using kubectl create (recommended for sensitive data)
# ----------------------------------------
# kubectl create secret generic n8n-secret \
#   --from-literal=username=admin \
#   --from-literal=password=MySecurePassword123! \
#   -n nekazari
#
# kubectl create secret generic postgresql-secret \
#   --from-literal=password=SecurePostgresPassword123! \
#   -n nekazari
#
# Method 2: Using kubectl apply (after filling this template)
# ----------------------------------------
# 1. Copy this file: cp secrets-template.yaml secrets.yaml
# 2. Edit secrets.yaml and replace all "CHANGE_ME" with actual values
# 3. Apply: kubectl apply -f secrets.yaml
#
# Method 3: Using Sealed Secrets (for GitOps)
# ----------------------------------------
# If using Sealed Secrets, encrypt this file and commit the encrypted version
#
# =============================================================================

